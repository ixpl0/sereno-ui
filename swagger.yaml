basePath: /api/v1
definitions:
  event.RequestComment:
    properties:
      text:
        example: Comment text
        type: string
    required:
    - text
    type: object
  event.RequestID:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
    required:
    - id
    type: object
  event.RequestIncident:
    properties:
      description:
        example: Incident description
        type: string
      tenant:
        $ref: '#/definitions/event.RequestID'
      title:
        example: Incident title
        type: string
    required:
    - tenant
    - title
    type: object
  event.RequestKey:
    properties:
      key:
        example: Key
        maxLength: 32
        minLength: 1
        type: string
    required:
    - key
    type: object
  event.RequestKeyValue:
    properties:
      key:
        example: Key
        maxLength: 32
        minLength: 1
        type: string
      value:
        example: Value
        maxLength: 64
        minLength: 1
        type: string
    required:
    - key
    - value
    type: object
  event.RequestStatus:
    properties:
      status:
        enum:
        - acknowledged
        - resolved
        example: acknowledged
        type: string
    required:
    - status
    type: object
  event.ResponseAlert:
    properties:
      annotations:
        items:
          $ref: '#/definitions/event.ResponseAnnotation'
        type: array
      comments:
        items:
          $ref: '#/definitions/event.ResponseComment'
        type: array
      description:
        example: No metrics from server for 15m
        type: string
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      labels:
        items:
          $ref: '#/definitions/event.ResponseLabel'
        type: array
      source:
        example: No data received
        type: string
      statuses:
        items:
          $ref: '#/definitions/event.ResponseStatus'
        type: array
      tenant:
        $ref: '#/definitions/event.ResponseTenant'
      time:
        example: 1766412596
        type: integer
    required:
    - annotations
    - comments
    - id
    - labels
    - source
    - statuses
    - tenant
    - time
    type: object
  event.ResponseAlertList:
    properties:
      alerts:
        items:
          $ref: '#/definitions/event.ResponseAlert'
        type: array
      total:
        example: 123
        type: integer
    required:
    - alerts
    - total
    type: object
  event.ResponseAnnotation:
    properties:
      created:
        example: 1766412596
        type: integer
      creator:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      deleted:
        example: 1766412596
        type: integer
      deleter:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      key:
        example: description
        type: string
      value:
        example: CPU usage is 92% in 5 minutes
        type: string
    required:
    - created
    - creator
    - key
    - value
    type: object
  event.ResponseComment:
    properties:
      created:
        example: 1766412596
        type: integer
      creator:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      deleted:
        example: 1766412596
        type: integer
      deleter:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      text:
        example: Comment text
        type: string
    required:
    - created
    - creator
    - id
    - text
    type: object
  event.ResponseIncident:
    properties:
      alerts:
        items:
          $ref: '#/definitions/event.ResponseAlert'
        type: array
      comments:
        items:
          $ref: '#/definitions/event.ResponseComment'
        type: array
      description:
        example: Incident description
        type: string
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      labels:
        items:
          $ref: '#/definitions/event.ResponseLabel'
        type: array
      statuses:
        items:
          $ref: '#/definitions/event.ResponseStatus'
        type: array
      tenant:
        $ref: '#/definitions/event.ResponseTenant'
      time:
        example: 1766412596
        type: integer
      title:
        example: Incident title
        type: string
    required:
    - alerts
    - comments
    - id
    - labels
    - statuses
    - tenant
    - time
    - title
    type: object
  event.ResponseIncidentList:
    properties:
      incidents:
        items:
          $ref: '#/definitions/event.ResponseIncident'
        type: array
      total:
        example: 123
        type: integer
    required:
    - incidents
    - total
    type: object
  event.ResponseLabel:
    properties:
      created:
        example: 1766412596
        type: integer
      creator:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      deleted:
        example: 1766412596
        type: integer
      deleter:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      key:
        example: alertname
        type: string
      value:
        example: CriticalCpuUsage
        type: string
    required:
    - created
    - creator
    - key
    - value
    type: object
  event.ResponseSingleAlert:
    properties:
      alert:
        $ref: '#/definitions/event.ResponseAlert'
    required:
    - alert
    type: object
  event.ResponseSingleIncident:
    properties:
      incident:
        $ref: '#/definitions/event.ResponseIncident'
    required:
    - incident
    type: object
  event.ResponseStatus:
    properties:
      created:
        example: 1766412596
        type: integer
      creator:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      status:
        example: created
        type: string
    required:
    - created
    - status
    type: object
  event.ResponseTenant:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
    required:
    - id
    type: object
  server.ResponseError:
    properties:
      error:
        example: Error message
        type: string
      request_id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
    type: object
  tenant.RequestEscalation:
    properties:
      enabled:
        example: true
        type: boolean
      name:
        example: Escalation name
        maxLength: 64
        minLength: 1
        type: string
      rules:
        items:
          $ref: '#/definitions/tenant.RequestEscalationRule'
        type: array
      steps:
        items:
          $ref: '#/definitions/tenant.RequestEscalationStep'
        minItems: 1
        type: array
    required:
    - enabled
    - name
    - steps
    type: object
  tenant.RequestEscalationRule:
    properties:
      description:
        example: Escalation rule description
        maxLength: 64
        minLength: 1
        type: string
      event:
        enum:
        - alert
        - incident
        example: alert
        type: string
      labels:
        additionalProperties:
          type: string
        example:
          key1: value1
          key2: value2
        type: object
    type: object
  tenant.RequestEscalationStep:
    properties:
      delay:
        example: 300
        minimum: 0
        type: integer
      description:
        example: Escalation step description
        maxLength: 64
        minLength: 1
        type: string
      member:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      schedule:
        $ref: '#/definitions/tenant.RequestEscalationStepSchedule'
    required:
    - delay
    type: object
  tenant.RequestEscalationStepSchedule:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      position:
        enum:
        - current
        - next
        - previous
        - all
        example: current
        type: string
    required:
    - id
    - position
    type: object
  tenant.RequestID:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
    required:
    - id
    type: object
  tenant.RequestMember:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      role:
        enum:
        - watcher
        - member
        - admin
        example: member
        type: string
    required:
    - id
    - role
    type: object
  tenant.RequestName:
    properties:
      name:
        example: Subject name
        maxLength: 64
        minLength: 1
        type: string
    required:
    - name
    type: object
  tenant.RequestNumber:
    properties:
      number:
        example: 123
        type: integer
    required:
    - number
    type: object
  tenant.RequestOverride:
    properties:
      description:
        example: Override description
        maxLength: 64
        minLength: 1
        type: string
      duration:
        example: 86400
        minimum: 600
        type: integer
      member:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      since:
        example: 1766412596
        type: integer
    required:
    - description
    - duration
    - member
    - since
    type: object
  tenant.RequestRotation:
    properties:
      days:
        example:
        - 1
        - 2
        - 3
        - 4
        - 5
        items:
          type: integer
        maxItems: 7
        minItems: 1
        type: array
      description:
        example: Rotation description
        maxLength: 64
        minLength: 1
        type: string
      duration:
        example: 86400
        minimum: 600
        type: integer
      members:
        example:
        - 00112233-4455-6677-8899-aabbccddeeff
        items:
          type: string
        minItems: 1
        type: array
      since:
        example: 1766412596
        type: integer
    required:
    - days
    - description
    - duration
    - members
    - since
    type: object
  tenant.RequestSchedule:
    properties:
      enabled:
        example: true
        type: boolean
      name:
        example: Schedule name
        maxLength: 64
        minLength: 1
        type: string
      since:
        example: 1766412596
        type: integer
      until:
        type: integer
    required:
    - enabled
    - name
    - since
    type: object
  tenant.ResponseEscalation:
    properties:
      enabled:
        example: true
        type: boolean
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      name:
        example: Schedule name
        type: string
      rules:
        items:
          $ref: '#/definitions/tenant.ResponseEscalationRule'
        type: array
      steps:
        items:
          $ref: '#/definitions/tenant.ResponseEscalationStep'
        type: array
    required:
    - enabled
    - id
    - name
    - rules
    - steps
    type: object
  tenant.ResponseEscalationList:
    properties:
      escalations:
        items:
          $ref: '#/definitions/tenant.ResponseEscalation'
        type: array
    required:
    - escalations
    type: object
  tenant.ResponseEscalationRule:
    properties:
      description:
        example: Escalation rule description
        type: string
      event:
        example: alert
        type: string
      labels:
        additionalProperties:
          type: string
        example:
          key1: value1
          key2: value2
        type: object
    type: object
  tenant.ResponseEscalationStep:
    properties:
      delay:
        example: 300
        minimum: 0
        type: integer
      description:
        example: Escalation step description
        type: string
      member:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      schedule:
        $ref: '#/definitions/tenant.ResponseEscalationStepSchedule'
    required:
    - delay
    type: object
  tenant.ResponseEscalationStepSchedule:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      position:
        enum:
        - current
        - next
        - previous
        - all
        example: current
        type: string
    required:
    - id
    - position
    type: object
  tenant.ResponseMember:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      role:
        example: member
        type: string
      since:
        example: 1766412596
        type: integer
    required:
    - id
    - role
    - since
    type: object
  tenant.ResponseMemberList:
    properties:
      members:
        items:
          $ref: '#/definitions/tenant.ResponseMember'
        type: array
    required:
    - members
    type: object
  tenant.ResponseOverride:
    properties:
      description:
        example: Override description
        type: string
      duration:
        example: 3600
        type: integer
      member:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      since:
        example: 1766412596
        type: integer
    required:
    - description
    - duration
    - member
    - since
    type: object
  tenant.ResponseRotation:
    properties:
      days:
        example:
        - 1
        - 2
        - 3
        - 4
        - 5
        items:
          type: integer
        maxItems: 7
        minItems: 1
        type: array
      description:
        example: Rotation description
        type: string
      duration:
        example: 3600
        type: integer
      members:
        example:
        - 00112233-4455-6677-8899-aabbccddeeff
        items:
          type: string
        type: array
      since:
        example: 1766412596
        type: integer
    required:
    - days
    - description
    - duration
    - members
    - since
    type: object
  tenant.ResponseSchedule:
    properties:
      enabled:
        example: true
        type: boolean
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      name:
        example: Schedule name
        type: string
      overrides:
        items:
          $ref: '#/definitions/tenant.ResponseOverride'
        type: array
      rotations:
        items:
          $ref: '#/definitions/tenant.ResponseRotation'
        type: array
      since:
        example: 1766412596
        type: integer
      until:
        example: 1766412596
        type: integer
    required:
    - enabled
    - id
    - name
    - overrides
    - rotations
    - since
    type: object
  tenant.ResponseScheduleList:
    properties:
      schedules:
        items:
          $ref: '#/definitions/tenant.ResponseSchedule'
        type: array
    required:
    - schedules
    type: object
  tenant.ResponseSingleEscalation:
    properties:
      escalation:
        $ref: '#/definitions/tenant.ResponseEscalation'
    required:
    - escalation
    type: object
  tenant.ResponseSingleMember:
    properties:
      member:
        $ref: '#/definitions/tenant.ResponseMember'
    required:
    - member
    type: object
  tenant.ResponseSingleOverride:
    properties:
      rotation:
        $ref: '#/definitions/tenant.ResponseOverride'
    required:
    - rotation
    type: object
  tenant.ResponseSingleRotation:
    properties:
      rotation:
        $ref: '#/definitions/tenant.ResponseRotation'
    required:
    - rotation
    type: object
  tenant.ResponseSingleSchedule:
    properties:
      schedule:
        $ref: '#/definitions/tenant.ResponseSchedule'
    required:
    - schedule
    type: object
  tenant.ResponseSingleTenant:
    properties:
      tenant:
        $ref: '#/definitions/tenant.ResponseTenant'
    required:
    - tenant
    type: object
  tenant.ResponseSingleToken:
    properties:
      token:
        $ref: '#/definitions/tenant.ResponseToken'
    required:
    - token
    type: object
  tenant.ResponseTenant:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      name:
        example: Tenant name
        type: string
      role:
        example: member
        type: string
      since:
        example: 1766412596
        type: integer
    required:
    - id
    - name
    - role
    - since
    type: object
  tenant.ResponseTenantList:
    properties:
      tenants:
        items:
          $ref: '#/definitions/tenant.ResponseTenant'
        type: array
    required:
    - tenants
    type: object
  tenant.ResponseToken:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      name:
        example: My first token
        type: string
      since:
        example: 1766412596
        type: integer
      value:
        example: sat_1234567890abcdefghijkABCDEFGHIJK
        type: string
    required:
    - id
    - name
    - since
    type: object
  tenant.ResponseTokenList:
    properties:
      tokens:
        items:
          $ref: '#/definitions/tenant.ResponseToken'
        type: array
    required:
    - tokens
    type: object
  user.RequestCode:
    properties:
      code:
        example: "12345678"
        type: string
    required:
    - code
    type: object
  user.RequestContact:
    properties:
      kind:
        enum:
        - email
        - telegram
        example: email
        type: string
      value:
        example: admin@example.com
        type: string
    required:
    - kind
    - value
    type: object
  user.RequestEmail:
    properties:
      email:
        example: user@example.com
        type: string
    required:
    - email
    type: object
  user.RequestEmailCode:
    properties:
      code:
        example: "12345678"
        type: string
      email:
        example: user@example.com
        type: string
    required:
    - code
    - email
    type: object
  user.RequestParameter:
    properties:
      kind:
        enum:
        - first_name
        - last_name
        - timezone
        - language
        example: first_name
        type: string
      value:
        example: Ivan
        type: string
    required:
    - kind
    - value
    type: object
  user.ResponseAccessJWT:
    properties:
      token:
        example: eyJhbGciOiJFZERTQSIsInR5cCI6IkpXVCJ9.eyJ0...ZiJ9.MFrP...ddBw
        type: string
      type:
        example: bearer
        type: string
    required:
    - token
    - type
    type: object
  user.ResponseContact:
    properties:
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      kind:
        enum:
        - email
        - telegram
        example: email
        type: string
      value:
        example: user@example.com
        type: string
      verified:
        example: true
        type: boolean
    required:
    - id
    - kind
    - value
    - verified
    type: object
  user.ResponseContactsList:
    properties:
      contacts:
        items:
          $ref: '#/definitions/user.ResponseContact'
        type: array
    required:
    - contacts
    type: object
  user.ResponseSession:
    properties:
      current:
        example: true
        type: boolean
      device:
        example: Mozilla/5.0 (Windows NT 10.0; WOW64; rv:45.0) Gecko/20100101 Firefox/45.0
        type: string
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      since:
        example: 1766412596
        type: integer
    required:
    - current
    - device
    - id
    - since
    type: object
  user.ResponseSessions:
    properties:
      sessions:
        items:
          $ref: '#/definitions/user.ResponseSession'
        type: array
    required:
    - sessions
    type: object
  user.ResponseSingleContact:
    properties:
      contact:
        $ref: '#/definitions/user.ResponseContact'
    required:
    - contact
    type: object
  user.ResponseSingleUser:
    properties:
      user:
        $ref: '#/definitions/user.ResponseUser'
    required:
    - user
    type: object
  user.ResponseUser:
    properties:
      first_name:
        example: Ivan
        type: string
      id:
        example: 00112233-4455-6677-8899-aabbccddeeff
        type: string
      last_name:
        example: Ivanov
        type: string
      timezone:
        example: Europe/Moscow
        type: string
    required:
    - id
    type: object
host: localhost:8080
info:
  contact: {}
  description: OnCall компонент Sereno Systems
  title: Sereno OnCall REST API
paths:
  /alerts:
    get:
      description: Возвращает алерты всех доступных тенантов
      parameters:
      - description: Alerts limit
        in: query
        name: limit
        type: integer
      - description: Alerts offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseAlertList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Алерты
      tags:
      - alerts
  /alerts/{id}:
    get:
      description: Возвращает алерт по ID
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleAlert'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Алерт
      tags:
      - alerts
  /alerts/{id}/annotations/add:
    post:
      consumes:
      - application/json
      description: Добавляет аннотацию алерту
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestKeyValue'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleAlert'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Добавление аннотации алерту
      tags:
      - alerts
  /alerts/{id}/annotations/delete:
    post:
      consumes:
      - application/json
      description: Удаляет аннотацию у улерта
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestKey'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleAlert'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление аннотации у алерта
      tags:
      - alerts
  /alerts/{id}/comments/add:
    post:
      consumes:
      - application/json
      description: Добавляет комментарий алерту
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestComment'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleAlert'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Добавление комментария алерту
      tags:
      - alerts
  /alerts/{id}/comments/delete:
    post:
      consumes:
      - application/json
      description: Удаляет комментарий у алерта
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestID'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleAlert'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление комментария у алерта
      tags:
      - alerts
  /alerts/{id}/labels/add:
    post:
      consumes:
      - application/json
      description: Добавляет лейбл алерту
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestKeyValue'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleAlert'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Добавление лейбла алерту
      tags:
      - alerts
  /alerts/{id}/labels/delete:
    post:
      consumes:
      - application/json
      description: Удаляет лейбл у алерта
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestKey'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleAlert'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление лейбла у алерта
      tags:
      - alerts
  /alerts/{id}/status/set:
    post:
      consumes:
      - application/json
      description: 'Устанавливает статус: acknowledged или resolved'
      parameters:
      - description: Alert ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestStatus'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleAlert'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Установка статуса
      tags:
      - alerts
  /alerts/create:
    post:
      consumes:
      - application/json
      description: Принимает webhook от системы мониторинга, парсит и создает в базе
        Alert
      parameters:
      - description: Webhook source
        in: query
        name: source
        required: true
        type: string
      - description: Webhook JSON
        in: body
        name: request
        required: true
        schema:
          additionalProperties: true
          type: object
      responses:
        "201":
          description: Created
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - StaticAccessToken: []
      summary: Создание алерта (integration webhook)
      tags:
      - alerts
  /auth/login/{provider}:
    get:
      description: Вход через поддерживаемых OAuth провайдеров
      parameters:
      - description: 'OAuth provider: yandex, vk, keycloak'
        in: path
        name: provider
        required: true
        type: string
      responses: {}
      summary: (NotImplemented) Вход через OAuth
      tags:
      - auth
  /auth/login/{provider}/callback:
    get:
      description: Обработка OAuth Callback от провайдера
      parameters:
      - description: 'OAuth provider: yandex, vk, keycloak'
        in: path
        name: provider
        required: true
        type: string
      responses: {}
      summary: (NotImplemented) OAuth сallback
      tags:
      - auth
  /auth/login/email:
    post:
      consumes:
      - application/json
      description: Проверяет Email и одноразовый код, создает/обновляет сессию и отдает
        новые AccessJWT + RefreshJWT
      parameters:
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/user.RequestEmailCode'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          headers:
            Set-Cookie:
              description: jwt_refresh=...; Path=/api/v1/auth/refresh; Max-Age=864000;
                Secure; HttpOnly
              type: string
          schema:
            $ref: '#/definitions/user.ResponseAccessJWT'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      summary: Вход по Email
      tags:
      - auth
  /auth/login/email/code:
    post:
      consumes:
      - application/json
      description: Формируется и отправляется на электронную почту одноразовый код
        аутентификации по Email
      parameters:
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/user.RequestEmail'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      summary: Запрос кода на Email
      tags:
      - auth
  /auth/logout:
    post:
      consumes:
      - application/json
      description: Удаляет сессию из репозитория и Cookie
      responses:
        "204":
          description: No Content
          headers:
            Set-Cookie:
              description: jwt_refresh=empty; Path=/api/v1/auth/refresh; Max-Age=-1;
                Secure; HttpOnly
              type: string
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Выход
      tags:
      - auth
  /auth/refresh:
    post:
      description: Валидирует RefreshJWT, обновляет существующую сессию и отдает новый
        AccessJWT
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.ResponseAccessJWT'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - RefreshJWT: []
      summary: Новый AccessJWT
      tags:
      - auth
  /incidents:
    get:
      description: Возвращает инциденты всех доступных тенантов
      parameters:
      - description: Incidents limit
        in: query
        name: limit
        type: integer
      - description: Incidents offset
        in: query
        name: offset
        type: integer
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseIncidentList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Инциденты
      tags:
      - incidents
  /incidents/{id}:
    get:
      description: Возвращает инцидент по ID
      parameters:
      - description: Incident ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Инцидент
      tags:
      - incidents
  /incidents/{id}/alerts/add:
    post:
      consumes:
      - application/json
      description: Добавляет алерт в инцидент
      parameters:
      - description: Incident ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestID'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Добавление алерта в инцидент
      tags:
      - incidents
  /incidents/{id}/alerts/delete:
    post:
      consumes:
      - application/json
      description: Удаляет алерт из инцидент
      parameters:
      - description: Incident ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestID'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление алерта из инцидента
      tags:
      - incidents
  /incidents/{id}/comments/add:
    post:
      consumes:
      - application/json
      description: Добавляет комментарий инциденту
      parameters:
      - description: Incident ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestComment'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Добавление комментария инциденту
      tags:
      - incidents
  /incidents/{id}/comments/delete:
    post:
      consumes:
      - application/json
      description: Удаляет комментарий у инцидента
      parameters:
      - description: Incident ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestID'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление комментария у инцидента
      tags:
      - incidents
  /incidents/{id}/labels/add:
    post:
      consumes:
      - application/json
      description: Добавляет лейбл инциденту
      parameters:
      - description: Incident ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestKeyValue'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Добавление лейбла инциденту
      tags:
      - incidents
  /incidents/{id}/labels/delete:
    post:
      consumes:
      - application/json
      description: Удаляет лейбл у инцидента
      parameters:
      - description: Incident ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestKey'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление лейбла у инцидента
      tags:
      - incidents
  /incidents/{id}/status/set:
    post:
      consumes:
      - application/json
      description: 'Устанавливает статус: acknowledged или resolved'
      parameters:
      - description: Incident ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestStatus'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseSingleIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Установка статуса
      tags:
      - incidents
  /incidents/create:
    post:
      consumes:
      - application/json
      description: Создает инцидент
      parameters:
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/event.RequestIncident'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/event.ResponseIncident'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Создание инцидента
      tags:
      - incidents
  /schedules/{id}/override/create:
    post:
      consumes:
      - application/json
      description: Создает Override в Schedule
      parameters:
      - description: Schedule ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestOverride'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseSingleOverride'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Создание замены в расписании
      tags:
      - tenant/schedules
  /schedules/{id}/override/delete:
    post:
      consumes:
      - application/json
      description: Удаляет Override по его номеру в Schedule
      parameters:
      - description: Schedule ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestNumber'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление замены в расписании
      tags:
      - tenant/schedules
  /schedules/{id}/rotation/create:
    post:
      consumes:
      - application/json
      description: Создает Rotation в Schedule
      parameters:
      - description: Schedule ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestRotation'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseSingleRotation'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Создание ротации в расписании
      tags:
      - tenant/schedules
  /schedules/{id}/rotation/delete:
    post:
      consumes:
      - application/json
      description: Удаляет Rotation по его номеру в Schedule
      parameters:
      - description: Schedule ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestNumber'
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление ротации в расписании
      tags:
      - tenant/schedules
  /tenants:
    get:
      description: Возвращает список тенантов текущего пользователя с указанием прав
        доступа
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseTenantList'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Список тенантов пользователя
      tags:
      - tenants
  /tenants/{id}/escalation/create:
    post:
      consumes:
      - application/json
      description: Создает Escalation в Tenant
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestEscalation'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseSingleEscalation'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Создание политики эскалации
      tags:
      - tenant/escalations
  /tenants/{id}/escalation/delete:
    post:
      consumes:
      - application/json
      description: Удаляет Escalation в Tenant по его ID
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestID'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление политики эскалации
      tags:
      - tenant/escalations
  /tenants/{id}/escalation/update:
    post:
      consumes:
      - application/json
      description: Изменяет Escalation в Tenant по его ID
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestEscalation'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseSingleEscalation'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Изменение политики эскалации
      tags:
      - tenant/escalations
  /tenants/{id}/escalations:
    get:
      description: Возвращает список Escalation в Tenant
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseEscalationList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Политики эскалаций
      tags:
      - tenant/escalations
  /tenants/{id}/members:
    get:
      description: Возвращает пользователей Tenant
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseMemberList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Список пользователей тенанта
      tags:
      - tenant/members
  /tenants/{id}/members/delete:
    post:
      consumes:
      - application/json
      description: Удаляет пользователь из Tenant по его ID
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestID'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление пользователя из тенанта
      tags:
      - tenant/members
  /tenants/{id}/members/update:
    post:
      consumes:
      - application/json
      description: Добавляет / изменяет права пользователя в Tenant по его ID
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestMember'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseSingleMember'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Управление пользователями в тенанте
      tags:
      - tenant/members
  /tenants/{id}/schedules:
    get:
      description: Возвращает список Schedule в Tenant
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseScheduleList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Список расписаний
      tags:
      - tenant/schedules
  /tenants/{id}/schedules/create:
    post:
      consumes:
      - application/json
      description: Создает Schedule в Tenant
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestSchedule'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseSingleSchedule'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Создание расписания
      tags:
      - tenant/schedules
  /tenants/{id}/schedules/delete:
    post:
      consumes:
      - application/json
      description: Удаляет Schedule по его ID
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestID'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление расписания
      tags:
      - tenant/schedules
  /tenants/{id}/tokens:
    get:
      description: Возвращает список статичных токенов в Tenant
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseTokenList'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Список статичных токенов
      tags:
      - tenant/tokens
  /tenants/{id}/tokens/create:
    post:
      consumes:
      - application/json
      description: Создает статичный токен
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestName'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/tenant.ResponseSingleToken'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Создание статичного токена
      tags:
      - tenant/tokens
  /tenants/{id}/tokens/delete:
    post:
      consumes:
      - application/json
      description: Удаляет статичного токен по его ID
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestID'
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление статичного токена
      tags:
      - tenant/tokens
  /tenants/{id}/update:
    post:
      consumes:
      - application/json
      description: 'Изменяет Tenant: название, ...'
      parameters:
      - description: Tenant ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestName'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/tenant.ResponseSingleTenant'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Изменение тенант
      tags:
      - tenants
  /tenants/create:
    post:
      consumes:
      - application/json
      description: Создает новый Tenant с указанным названием
      parameters:
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/tenant.RequestName'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/tenant.ResponseSingleTenant'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Создание тенант
      tags:
      - tenants
  /user:
    get:
      description: Возвращает информацию о текущем пользователе
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.ResponseSingleUser'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Информацию о пользователе
      tags:
      - user
  /user/contacts:
    get:
      description: Возвращает список контактов текущего пользователя
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.ResponseContactsList'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Список контактов пользователя
      tags:
      - user/contacts
  /user/contacts/{id}/delete:
    post:
      description: Удаляет контакт текущего пользователя
      parameters:
      - description: Contact ID
        in: path
        name: id
        required: true
        type: string
      responses:
        "204":
          description: No Content
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Удаление контакта пользователя
      tags:
      - user/contacts
  /user/contacts/{id}/verify:
    post:
      consumes:
      - application/json
      description: Верифицирует контакт текущего пользователя по одноразовому коду
      parameters:
      - description: Contact ID
        in: path
        name: id
        required: true
        type: string
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/user.RequestCode'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.ResponseSingleContact'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Верификация контакта пользователя
      tags:
      - user/contacts
  /user/contacts/add:
    post:
      consumes:
      - application/json
      description: Добавляет контакт текущему пользователю
      parameters:
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/user.RequestContact'
      produces:
      - application/json
      responses:
        "201":
          description: Created
          schema:
            $ref: '#/definitions/user.ResponseSingleContact'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Добавление контакта пользователя
      tags:
      - user/contacts
  /user/sessions:
    get:
      description: Возвращает список сессий текущего пользователя
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.ResponseSessions'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Список сессий пользователя
      tags:
      - user/sessions
  /user/sessions/close:
    post:
      description: Закрывает все сессии пользователя кроме текущей
      produces:
      - application/json
      responses:
        "204":
          description: No Content
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Заркытие сессий пользователя
      tags:
      - user/sessions
  /user/update:
    post:
      consumes:
      - application/json
      description: Обновляет параметры в профиле текущего пользователя
      parameters:
      - description: Request JSON
        in: body
        name: request
        required: true
        schema:
          $ref: '#/definitions/user.RequestParameter'
      produces:
      - application/json
      responses:
        "200":
          description: OK
          schema:
            $ref: '#/definitions/user.ResponseSingleUser'
        "400":
          description: Bad Request
          schema:
            $ref: '#/definitions/server.ResponseError'
        "401":
          description: Unauthorized
          schema:
            $ref: '#/definitions/server.ResponseError'
        "500":
          description: Internal Server Error
          schema:
            $ref: '#/definitions/server.ResponseError'
      security:
      - AccessJWT: []
      summary: Обновление профиль пользователе
      tags:
      - user
securityDefinitions:
  AccessJWT:
    in: header
    name: Authorization
    type: apiKey
  RefreshJWT:
    in: header
    name: Cookie
    type: apiKey
  StaticAccessToken:
    in: header
    name: Authorization
    type: apiKey
swagger: "2.0"
